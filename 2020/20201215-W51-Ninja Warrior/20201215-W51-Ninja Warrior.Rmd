---
title: "20201215-W51-Ninja Warrior"
author: "CPXOPZ"
date: "2020/12/15"
output:
  html_document:
    theme: paper
    highlight: kate
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, fig.showtext = T, fig.retina = 1)
```

```{r prep, message=FALSE}
library(dplyr)
library(stringr)
library(ggplot2)
```

```{r data,echo=FALSE}
ninja_warrior <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-12-15/ninja_warrior.csv')
```

10seasons 28cities

```{r data-prep}
skimr::skim(ninja_warrior)

races <- ninja_warrior %>% 
  select(season, location, round_stage) %>% 
  distinct() %>% 
  mutate(location = case_when(
    str_detect(location, "Sasuke") ~ "Sasuke",
    str_detect(location, "San Pedro") ~ "San Pedro",
    TRUE ~ location),
    index = row_number())

```

```{r plots, fig.width = 17, fig.height = 12}
ggplot(races) +
  geom_bar(aes(season, 1, group = index, fill = location), stat = 'identity', color = "black", size = 1) 



```

***

```{r session}
sessionInfo()
```