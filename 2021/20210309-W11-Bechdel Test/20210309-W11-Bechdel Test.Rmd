---
title: "20210309-W11-Bechdel Test"
author: "CPXOPZ"
date: "2021/3/10"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
```

```{r dat}
# Either ISO-8601 date or year/week works!

tuesdata <- tidytuesdayR::tt_load('2021-03-09')
tuesdata <- tidytuesdayR::tt_load(2021, week = 11)

bechdel <- tuesdata$bechdel

# Or read in the data manually

raw_bechdel <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-03-09/raw_bechdel.csv')
movies <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-03-09/movies.csv')

```

```{r}
# # geom_bar
# movies %>% 
#   count(year, clean_test) %>% 
#   ggplot()+
#   geom_bar(aes(year, n, fill = clean_test), stat = "identity")

movies %>% 
  count(year, clean_test) %>% 
  ggplot()+
  geom_col(aes(year, n, fill = clean_test), position = "fill")+
  scale_y_continuous(labels = scales::percent_format(), name = NULL)+
  labs(title = "",
       subtitle = "",
       x = NULL,
       caption = "@CPXOPZ")+
  theme_minimal()

#factor color
```

 